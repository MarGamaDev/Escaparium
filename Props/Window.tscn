[gd_scene load_steps=19 format=3 uid="uid://u6e5cg4yu4b3"]

[ext_resource type="Script" uid="uid://cr6qgjsvipxya" path="res://Scripts/Props/GlassWindow.gd" id="1_v5yc7"]
[ext_resource type="PackedScene" uid="uid://bylmtb7wy2y22" path="res://ITEM_MODELS/Window/WindowAndFrame.glb" id="2_63bwc"]
[ext_resource type="PackedScene" uid="uid://b4yoxologryhv" path="res://ITEM_MODELS/Window/glass1.glb" id="3_ooyjy"]
[ext_resource type="Script" uid="uid://ccvcp5q5hadh7" path="res://Props/GlassShard.gd" id="3_yee4g"]
[ext_resource type="PackedScene" uid="uid://cxlkdvnhn2fuk" path="res://ITEM_MODELS/Window/glass2.glb" id="4_yee4g"]
[ext_resource type="PackedScene" uid="uid://o8u8kxqetkbl" path="res://ITEM_MODELS/Window/glass3.glb" id="5_1drf8"]
[ext_resource type="PackedScene" uid="uid://cexkr6doe14ug" path="res://ITEM_MODELS/Window/glass4.glb" id="6_7ndsj"]
[ext_resource type="PackedScene" uid="uid://c03q8oxc853ne" path="res://ITEM_MODELS/Window/glass5.glb" id="7_x1vjb"]
[ext_resource type="PackedScene" uid="uid://dhvxm8ucjqc6b" path="res://ITEM_MODELS/Window/glass6.glb" id="8_ymwly"]
[ext_resource type="PackedScene" uid="uid://clao60uu3pda7" path="res://ITEM_MODELS/Window/glass7.glb" id="9_t7wua"]

[sub_resource type="ConvexPolygonShape3D" id="ConvexPolygonShape3D_1drf8"]
points = PackedVector3Array(-1.5857797, 1.8665679, 0.06131935, -1.655029, 1.1047709, 0.009370968, -1.5424961, 1.1047709, 0.009370968, -1.655029, 2.187029, 0.009370968, -1.6507, 1.1464049, 0.059320923, -1.5450653, 1.1294799, 0.06013332, -1.6507, 2.145395, 0.059320923, -1.6030644, 2.1262207, 0.009370968, -1.6117234, 2.187029, 0.06131935, -1.5424961, 1.2433372, 0.009370968, -1.5424961, 1.2261753, 0.06131935, -1.6117234, 2.187029, 0.009370968, -1.6030644, 2.1176398, 0.06131935, -1.551144, 1.3732166, 0.026695572, -1.6030644, 2.1262207, 0.03534516, -1.5944386, 2.0050282, 0.009370968, -1.5598029, 1.4859343, 0.06131935, -1.551144, 1.3732166, 0.009370968, -1.5424961, 1.2433372, 0.026695572)

[sub_resource type="ConvexPolygonShape3D" id="ConvexPolygonShape3D_7ndsj"]
points = PackedVector3Array(0.10201824, 2.182638, 0.081291266, 0.10201824, 1.9663273, 0.081291266, -1.6283182, 2.182638, 0.081291266, 0.10201824, 2.182638, 0.00018174946, -1.6283182, 2.182638, 0.00018174946, -1.5471876, 1.1014262, 0.081291266, -0.08734316, 1.0744586, 0.00018174946, -1.5471876, 1.1014262, 0.00018174946, -0.08734316, 1.0744586, 0.081291266, 0.047818184, 1.2366061, 0.00018174946, -1.0875034, 1.0202956, 0.081291266, -0.76315, 1.0202956, 0.00018174946, 0.047818184, 1.2366061, 0.081291266, -1.5741181, 1.182557, 0.00018174946, -1.1146034, 1.0202956, 0.00018174946, -1.6283182, 1.9663273, 0.081291266, -1.5741181, 1.182557, 0.081291266, -0.78991127, 1.0202956, 0.081291266, 0.07491821, 1.506966, 0.00018174946, -1.4928181, 1.0744586, 0.00018174946, -1.6283182, 1.9932951, 0.00018174946, -0.3576659, 1.0473771, 0.00018174946, 0.10201824, 1.9392458, 0.00018174946, -1.4660568, 1.0744586, 0.081291266, 0.07491821, 1.5340475, 0.081291266, -0.38476592, 1.0473771, 0.081291266, -0.0333125, 1.1285077, 0.081291266, -0.06024313, 1.1014262, 0.00018174946, -1.6012182, 1.5610151, 0.081291266)

[sub_resource type="ConvexPolygonShape3D" id="ConvexPolygonShape3D_x1vjb"]
points = PackedVector3Array(0.12248045, 1.2167165, 0.00087222457, 1.6635429, 2.1926856, 0.07790674, 1.6635429, 0.9854572, 0.07790674, 0.019657135, 1.4735007, 0.07790674, 1.6635429, 2.1926856, 0.00087222457, 0.07114929, 2.1926856, 0.00087222457, 1.6635429, 0.9854572, 0.00087222457, 0.07114929, 2.1926856, 0.07790674, 0.019657135, 1.2423595, 0.07790674, 0.019657135, 1.2423595, 0.00087222457, 1.3809799, 1.0112183, 0.07790674, 1.5864656, 0.9854572, 0.00087222457, 0.096734405, 1.2167165, 0.07790674, 0.019657135, 1.4735007, 0.00087222457, 0.43062857, 1.1654307, 0.00087222457, 0.045403183, 1.8843791, 0.07790674, 1.5605586, 0.9854572, 0.07790674, 1.4064041, 1.0112183, 0.00087222457, 0.045403183, 1.8843791, 0.00087222457, 0.40504342, 1.1654307, 0.07790674)

[sub_resource type="ConvexPolygonShape3D" id="ConvexPolygonShape3D_ymwly"]
points = PackedVector3Array(-0.97604156, 1.0248672, 0.023212478, -1.6601362, -0.09640312, 0.0041968264, -1.4320377, -0.09640312, 0.0041968264, -1.4320377, -0.09640312, 0.061215874, -1.6507, 1.1032243, 0.060429364, -1.6601362, 1.1200031, 0.0041968264, -1.0011014, 1.033851, 0.060682762, -0.97604156, 1.0437992, 0.0041968264, -1.6507, -0.07962429, 0.060429364, -0.995061, 0.9679524, 0.061215874, -1.4700764, 1.1200031, 0.0041968264, -1.3940659, -0.02031821, 0.0041968264, -1.4649602, 1.09953, 0.060256194, -0.995061, 0.9679524, 0.0041968264, -1.3940659, -0.02031821, 0.061215874, -0.97604156, 1.0437992, 0.023212478, -1.0710715, 0.7776805, 0.0041968264, -1.0710715, 1.0629692, 0.0041968264, -0.97604156, 1.0248672, 0.0041968264)

[sub_resource type="ConvexPolygonShape3D" id="ConvexPolygonShape3D_t7wua"]
points = PackedVector3Array(-0.0995689, 1.096946, 0.07116825, -0.0995689, 1.096946, 0.0022063479, 0.015493631, -0.09839368, 0.0022063479, -1.4556937, -0.09839368, 0.07116825, 0.015493631, -0.09839368, 0.07116825, -1.4556937, -0.09839368, 0.0022063479, -0.99573165, 1.0509624, 0.07116825, -1.018773, 1.0279121, 0.0022063479, -1.4326525, 0.016623825, 0.07116825, 0.015493631, 0.03955713, 0.07116825, -0.3753445, 1.096946, 0.0022063479, -1.4326525, 0.016623825, 0.0022063479, -1.1106502, 0.8210444, 0.07116825, -0.99573165, 1.0509624, 0.0022063479, 0.015493631, 0.016623825, 0.0022063479, -0.3753445, 1.096946, 0.07116825, -0.076527596, 0.9359449, 0.07116825, -0.74285334, 1.0738957, 0.07116825, -1.0416703, 0.9818115, 0.0022063479, -1.018773, 1.0279121, 0.07116825, -0.053486288, 0.68297654, 0.0022063479, -1.4556937, -0.052410066, 0.0022063479, -0.72010005, 1.0738957, 0.0022063479, -1.2945485, 0.36144236, 0.0022063479, -1.4556937, -0.052410066, 0.07116825, -0.0075476766, 0.26959217, 0.07116825, -1.0416703, 0.9818115, 0.07116825)

[sub_resource type="ConvexPolygonShape3D" id="ConvexPolygonShape3D_4fkly"]
points = PackedVector3Array(-0.02041936, -0.10081053, -0.00033698976, 0.26044136, 1.2473288, 0.08391794, 1.6645691, 1.022594, -0.00033698976, 1.4961584, -0.10081053, 0.08391794, -0.02041936, -0.10081053, 0.08391794, -0.104712784, 1.1631205, -0.00033698976, 1.5241387, -0.10081053, -0.00033698976, 1.6645691, 1.022594, 0.08391794, -0.13286924, 1.1069368, 0.08391794, 0.09185457, 1.2754879, -0.00033698976, 1.6645691, 0.5453693, 0.08391794, 1.6645691, 0.46102643, -0.00033698976, -0.13286924, 0.9383857, -0.00033698976, 0.0077371, 1.2754879, 0.08391794, 1.1871411, 1.1069368, -0.00033698976, 1.5241387, -0.07265133, 0.08391794, -0.13286924, 0.9664102, 0.08391794, 0.0077371, 1.2754879, -0.00033698976, -0.076556325, 0.37681824, -0.00033698976, -0.13286924, 1.1069368, -0.00033698976, 1.5804517, 0.09589979, -0.00033698976, 1.3275714, 1.0787776, 0.08391794, -0.076556325, 1.191145, 0.08391794, 0.653752, 1.191145, -0.00033698976, -0.04857582, 0.15208349, 0.08391794, 1.5241387, 1.0507531, -0.00033698976, 0.063874066, 1.2754879, 0.08391794, 1.6084322, 0.29247534, 0.08391794, -0.04857582, 0.123924255, -0.00033698976, 1.5522952, -0.01646763, -0.00033698976, 0.28859785, 1.2473288, -0.00033698976)

[sub_resource type="ConvexPolygonShape3D" id="ConvexPolygonShape3D_xmhuf"]
points = PackedVector3Array(1.6419464, 0.5986618, 0.030704271, 1.4833341, -0.092565864, 0.04202271, 1.4833341, -0.092565864, 0.064692855, 1.6533103, -0.092565864, 0.064692855, 1.6533103, -0.092565864, 0.008045213, 1.6533103, 0.6326659, 0.064692855, 1.506012, -0.03584504, 0.008045213, 1.6533103, 0.5532993, 0.008045213, 1.6306324, 0.5986618, 0.053352237, 1.506012, -0.092565864, 0.008045213, 1.6306324, 0.51929516, 0.008045213, 1.4946979, -0.0019119084, 0.053352237, 1.6306324, 0.5986618, 0.064692855, 1.4946979, -0.058561772, 0.019374741, 1.4833341, -0.058561772, 0.064692855, 1.6079545, 0.48529106, 0.04202271, 1.4833341, -0.06984913, 0.04202271, 1.6419464, 0.6326659, 0.053352237, 1.6533103, 0.6213075, 0.04202271, 1.5173426, 0.020804822, 0.008045213, 1.4946979, -0.0019119084, 0.064692855, 1.6419464, 0.5532993, 0.008045213, 1.5286899, 0.13410453, 0.04202271, 1.6306324, 0.5419409, 0.019374741, 1.5739626, 0.3493456, 0.053352237, 1.6419464, 0.6326659, 0.064692855, 1.6419464, 0.6213075, 0.04202271, 1.4946979, -0.092565864, 0.019374741, 1.5739626, 0.3493456, 0.064692855, 1.5739626, 0.29262474, 0.019374741, 1.6533103, 0.6326659, 0.053352237, 1.4833341, -0.058561772, 0.053352237)

[sub_resource type="BoxShape3D" id="BoxShape3D_ooyjy"]
size = Vector3(7.6789856, 5.6495514, 0.13230133)

[node name="Window" type="StaticBody3D"]
script = ExtResource("1_v5yc7")
shatter_force = 20.0
shard_lifetime = 5000.0

[node name="WindowAndFrame" parent="." instance=ExtResource("2_63bwc")]
transform = Transform3D(2, 0, 0, 0, 2, 0, 0, 0, 2, 0, 0, 0)

[node name="Shards" type="Node3D" parent="."]
transform = Transform3D(2, 0, 0, 0, 2, 0, 0, 0, 2, 0, 0, 0)
visible = false

[node name="Shard 1" type="RigidBody3D" parent="Shards" groups=["glass_shard"]]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1.616625, 1.5866711, 0)
collision_layer = 0
collision_mask = 0
freeze = true
script = ExtResource("3_yee4g")

[node name="glass1" parent="Shards/Shard 1" instance=ExtResource("3_ooyjy")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.616625, -1.5866711, 0)

[node name="CollisionShape3D" type="CollisionShape3D" parent="Shards/Shard 1"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.616625, -1.5866711, 0)
shape = SubResource("ConvexPolygonShape3D_1drf8")

[node name="Shard 2" type="RigidBody3D" parent="Shards" groups=["glass_shard"]]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.78969383, 1.6250714, 0)
collision_layer = 0
collision_mask = 0
freeze = true
script = ExtResource("3_yee4g")

[node name="glass2" parent="Shards/Shard 2" instance=ExtResource("4_yee4g")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.78969383, -1.6250714, 0)

[node name="CollisionShape3D" type="CollisionShape3D" parent="Shards/Shard 2"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.78969383, -1.6250714, 0)
shape = SubResource("ConvexPolygonShape3D_7ndsj")

[node name="Shard 3" type="RigidBody3D" parent="Shards" groups=["glass_shard"]]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.7831669, 1.6903355, 0)
collision_layer = 0
collision_mask = 0
freeze = true
script = ExtResource("3_yee4g")

[node name="glass3" parent="Shards/Shard 3" instance=ExtResource("5_1drf8")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.7831669, -1.6903355, 0)

[node name="CollisionShape3D" type="CollisionShape3D" parent="Shards/Shard 3"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.7831669, -1.6903355, 0)
shape = SubResource("ConvexPolygonShape3D_x1vjb")

[node name="Shard 4" type="RigidBody3D" parent="Shards" groups=["glass_shard"]]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1.442333, 0.65263915, 0)
collision_layer = 0
collision_mask = 0
freeze = true
script = ExtResource("3_yee4g")

[node name="glass4" parent="Shards/Shard 4" instance=ExtResource("6_7ndsj")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.442333, -0.65263915, 0)

[node name="CollisionShape3D" type="CollisionShape3D" parent="Shards/Shard 4"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.442333, -0.65263915, 0)
shape = SubResource("ConvexPolygonShape3D_ymwly")

[node name="Shard 5" type="RigidBody3D" parent="Shards" groups=["glass_shard"]]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.6526394, 0.5090585, 0)
collision_layer = 0
collision_mask = 0
freeze = true
script = ExtResource("3_yee4g")

[node name="glass5" parent="Shards/Shard 5" instance=ExtResource("7_x1vjb")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.6526394, -0.5090585, 0)

[node name="CollisionShape3D" type="CollisionShape3D" parent="Shards/Shard 5"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.6526394, -0.5090585, 0)
shape = SubResource("ConvexPolygonShape3D_t7wua")

[node name="Shard 6" type="RigidBody3D" parent="Shards" groups=["glass_shard"]]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.74400854, 0.5416905, 0)
collision_layer = 0
collision_mask = 0
freeze = true
script = ExtResource("3_yee4g")

[node name="glass6" parent="Shards/Shard 6" instance=ExtResource("8_ymwly")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.74400854, -0.5416905, 0)

[node name="CollisionShape3D" type="CollisionShape3D" parent="Shards/Shard 6"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.74400854, -0.5416905, 0)
shape = SubResource("ConvexPolygonShape3D_4fkly")

[node name="Shard 7" type="RigidBody3D" parent="Shards" groups=["glass_shard"]]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.6054921, 0.11094868, 0)
collision_layer = 0
collision_mask = 0
freeze = true
script = ExtResource("3_yee4g")

[node name="glass7" parent="Shards/Shard 7" instance=ExtResource("9_t7wua")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1.6054921, -0.11094868, 0)

[node name="CollisionShape3D" type="CollisionShape3D" parent="Shards/Shard 7"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1.6054921, -0.11094868, 0)
shape = SubResource("ConvexPolygonShape3D_xmhuf")

[node name="Hitbox" type="CollisionShape3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.0021514893, 2.1078262, 0.06587601)
shape = SubResource("BoxShape3D_ooyjy")

[node name="AudioStreamPlayer3D" type="AudioStreamPlayer3D" parent="."]

[node name="Shatter Origin" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.0529175, 7.008972)

[connection signal="shatter_glass" from="." to="Shards/Shard 1" method="_on_window_shatter_glass"]
[connection signal="shatter_glass" from="." to="Shards/Shard 2" method="_on_window_shatter_glass"]
[connection signal="shatter_glass" from="." to="Shards/Shard 3" method="_on_window_shatter_glass"]
[connection signal="shatter_glass" from="." to="Shards/Shard 4" method="_on_window_shatter_glass"]
[connection signal="shatter_glass" from="." to="Shards/Shard 5" method="_on_window_shatter_glass"]
[connection signal="shatter_glass" from="." to="Shards/Shard 6" method="_on_window_shatter_glass"]
[connection signal="shatter_glass" from="." to="Shards/Shard 7" method="_on_window_shatter_glass"]

[editable path="WindowAndFrame"]
[editable path="Shards/Shard 1/glass1"]
[editable path="Shards/Shard 2/glass2"]
[editable path="Shards/Shard 3/glass3"]
[editable path="Shards/Shard 4/glass4"]
[editable path="Shards/Shard 5/glass5"]
[editable path="Shards/Shard 6/glass6"]
[editable path="Shards/Shard 7/glass7"]
